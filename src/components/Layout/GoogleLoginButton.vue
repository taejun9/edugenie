<template>
  <button
    @click="openGoogleLoginPopup"
    :disabled="disabled"
    class="disabled:cursor-defaults group relative box-content flex h-[40px] min-w-max max-w-[400px] cursor-pointer select-none items-center justify-center overflow-hidden rounded-full border px-2.5 font-['Roboto',_arial,_sans-serif] text-sm tracking-[0.25px] transition-all duration-[218ms] focus:outline-none lg:rounded-[20px] lg:px-3"
    :class="[
      isDarkMode
        ? 'border-[#8e918f] bg-[#131314] text-[#e3e3e3] disabled:border-[#8e918f1f] disabled:bg-[#13131461]'
        : 'border-[#747775] bg-white text-[#1f1f1f] disabled:border-[#1f1f1f1f] disabled:bg-[#ffffff61]',
      !disabled
        ? 'hover:shadow-[0_1px_2px_0_rgba(60,64,67,0.30),0_1px_3px_1px_rgba(60,64,67,0.15)]'
        : '',
    ]"
  >
    <div
      class="absolute inset-0 opacity-0 transition-opacity duration-[218ms]"
      :class="[
        isDarkMode
          ? 'group-hover:bg-white group-hover:opacity-[8%] group-focus:bg-white group-focus:opacity-[12%] group-active:bg-white group-active:opacity-[12%]'
          : 'group-hover:bg-[#303030] group-hover:opacity-[8%] group-focus:bg-[#303030] group-focus:opacity-[12%] group-active:bg-[#303030] group-active:opacity-[12%]',
      ]"
    ></div>

    <div class="relative flex h-full w-full items-center justify-between">
      <div class="h-5 w-5 min-w-[20px] lg:mr-[10px]" :class="{ 'opacity-[38%]': disabled }">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="block">
          <path
            fill="#EA4335"
            d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"
          ></path>
          <path
            fill="#4285F4"
            d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"
          ></path>
          <path
            fill="#FBBC05"
            d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"
          ></path>
          <path
            fill="#34A853"
            d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"
          ></path>
        </svg>
      </div>

      <span
        class="hidden grow overflow-hidden text-ellipsis whitespace-nowrap align-top font-medium lg:block"
        :class="{ 'opacity-[38%]': disabled }"
      >
        <slot>Sign in</slot>
      </span>
    </div>
  </button>
</template>
<script setup>
import { useGoogleLogin } from '@/helpers/useGoogleLogin.js'

defineProps({
  isDarkMode: {
    type: Boolean,
    default: false,
  },
  disabled: {
    type: Boolean,
    default: false,
  },
})

const { openGoogleLoginPopup } = useGoogleLogin()
</script>
